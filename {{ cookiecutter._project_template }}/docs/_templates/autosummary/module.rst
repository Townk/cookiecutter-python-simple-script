{# -*- mode: jinja2; -*- #}
{%- macro extra_summary(section) -%}{% include fullname ~ "." ~ section ~ ".summary" ignore missing with context %}{%- endmacro -%}
{%- set summary_custom_attributes = extra_summary("attributes") -%}
{%- set summary_custom_functions = extra_summary("functions") -%}
{%- set summary_custom_classes = extra_summary("classes") -%}
{%- set summary_custom_exceptions = extra_summary("exceptions") -%}
{%- set summary_custom_modules = extra_summary("modules") -%}
{%- macro extra_reference(section) -%}{% include fullname ~ "." ~ section ~ ".reference" ignore missing with context %}{%- endmacro -%}
{%- set reference_custom_attributes = extra_reference("attributes") -%}
{%- set reference_custom_functions = extra_reference("functions") -%}
{#- The :autogenerated: tag is picked up by breadcrumbs.html to suppress "Edit on Github" link -#}
:autogenerated:
:hide-toc:

{{ (name ~ " module") | escape | underline }}

.. automodule:: {{ fullname }}

.. currentmodule:: {{ fullname }}

{% if attributes or summary_custom_attributes or functions or summary_custom_functions or classes or summary_custom_classes or exceptions or summary_custom_exceptions or modules or summary_custom_modules -%}
Summary
-------
{% if attributes or summary_custom_attributes %}
.. rubric:: {{ _('Attributes') }}
.. autosummary::
{% for item in attributes %}
    {{ item }}
{%- endfor %}
    {{ summary_custom_attributes | indent }}
{% endif %}

{% if functions or summary_custom_functions %}
.. rubric:: {{ _('Functions') }}
.. autosummary::
    :nosignatures:
{% for item in functions %}
    {{ item }}
{%- endfor %}
    {{ summary_custom_functions | indent }}
{% endif %}

{% if classes or summary_custom_classes %}
.. rubric:: {{ _('Classes') }}
.. autosummary::
    :toctree:
{% for item in classes %}
    {{ item }}
{%- endfor %}
    {{ summary_custom_classes | indent }}
{% endif %}

{% if exceptions or summary_custom_exceptions %}
.. rubric:: {{ _('Exceptions') }}
.. autosummary::
    :toctree:
{% for item in exceptions %}
    {{ item }}
{%- endfor %}
    {{ summary_custom_exceptions | indent }}
{% endif %}

{% if modules or summary_custom_modules %}
.. rubric:: {{ _('Modules') }}
.. autosummary::
    :toctree:
{% for item in modules %}
    {{ item }}
{%- endfor %}
    {{ summary_custom_modules | indent }}
{% endif %}
{% endif %}

{% if attributes or reference_custom_attributes or functions -%}
Reference
---------

{% if attributes or reference_custom_attributes %}
.. rubric:: {{ _('Attributes') }}
{% for item in attributes %}
.. autoattribute:: {{ item }}
{%- endfor %}
{{ reference_custom_attributes }}
{% endif %}

{% if functions or reference_custom_functions %}
.. rubric:: {{ _('Functions') }}
{% for function in functions %}
.. autofunction:: {{ function }}
{%- endfor %}
{{ reference_custom_functions }}
{% endif %}

{% endif %}
